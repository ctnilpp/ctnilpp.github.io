<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-leetcode刷题日记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/18/leetcode%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2024-01-18T04:46:31.000Z" itemprop="datePublished">2024-01-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/18/leetcode%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">leetcode刷题日记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="2024-1-18"><a href="#2024-1-18" class="headerlink" title="2024-1-18"></a>2024-1-18</h3><p>双指针<br>先说左右，一般就是把不用或者想标记的东西，通过交换放到后面去<br>这样，也不用额外的空间，还能把数据处理了。</p>
<p>快慢指针<br>快指针挑选需要保留的数据，慢指针用于指出存放的位置，这样就不用额外<br>的空间，也能把数据处理了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/18/leetcode%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/" data-id="clt3r2y160000m4uc44x81irp" data-title="leetcode刷题日记" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-正经人谁写日记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/15/%E6%AD%A3%E7%BB%8F%E4%BA%BA%E8%B0%81%E5%86%99%E6%97%A5%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2024-01-15T06:27:15.000Z" itemprop="datePublished">2024-01-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/15/%E6%AD%A3%E7%BB%8F%E4%BA%BA%E8%B0%81%E5%86%99%E6%97%A5%E8%AE%B0/">正经人谁写日记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="2024-1-15-14-00"><a href="#2024-1-15-14-00" class="headerlink" title="2024-1-15 14:00"></a>2024-1-15 14:00</h3><p>去了看霉霉的演唱会大电影，记录一下心情吧。<br>一开始去看，没有什么紧张或者激动的情绪，因为其实我已经很久没有<br>听霉霉的歌了，她只是算我曾经喜欢过的女歌手，而且她的歌，是很<br>好听，但也没有说，那种能够完全打动我的例子，至少过去如此。<br>然后看的时候，我就只有一个念头，啊，她真的很自信，情绪很饱满<br>然后我聆听每一首歌，去看里面写的歌词，都很饱满地表达了某一阶段<br>自己的情绪，我想，这很棒，这是一个很饱满的人，所以她能够跟观众<br>们说好，她整个人表现出来的是睿智和自信，我喜欢这样的状态，可能<br>是因为我觉得自己在情绪上有所欠缺，我好像没有办法做到像这样热情<br>轻松地在舞台上展现自我吧。而这就是自信和饱满的情绪才能做到的。<br>然后是中场，她的两首十分早期的歌曲，都蛮有意思的，都是说一些想象<br>中的人物的故事，我认为在这样的故事，反而更能体现一个人她的情绪。<br>因为有时候，她不一定要用自己这个载体去表达，她可以想象自己是不同<br>性别，不同出身，不同性格，而要表达的情绪却是一致的，对于热烈的爱<br>是要用一种怎样的态度，对于爱中的苦痛和所能感知到的一切，要如何承受<br>以及表达出来。写下这些文字，不如听一首，然后再开始今天的作业吧。</p>
<h3 id="2024-1-15-18-02"><a href="#2024-1-15-18-02" class="headerlink" title="2024-1-15 18:02"></a>2024-1-15 18:02</h3><p>突然想到了自己的一些事情，简单写写心情吧。<br>我想这种情绪，叫做不忿？反正是混杂着一点愤怒在里面的。我先描述一下<br>想象，当我向我的母亲，索要一些东西的时候，总算要承受情绪压力，是的，<br>很明显，她极不情愿，她不喜欢别人用她的钱，如果有什么东西，要花她的钱<br>她就觉得难受，如果是这样的话，我为什么要用她的钱呢？我为什么要找不愉快。<br>如果是这样的话，我尽量不用她的钱，就算我的同龄人，他们谈恋爱，结婚，都在<br>用父母的钱，但是，我想他们跟父母的关系，与我不同吧，所以他们不会理解，我<br>现在这种情绪的产生。我要用钱的话，是要背负愧疚，背负奇奇怪怪的情绪压力，<br>如果是这样的话，我还不如不用呢，不是吗，而且我明白，这就是我母亲的问题，<br>她的性格就是如此。所以这是什么情绪呢？我觉得可能叫做，觉得不公平吧，为什么<br>别人就能够有不给情绪压力，还能提供物质援助的母亲，而我，想要用一点钱，都<br>要背负极大的情绪压力呢？小时候买衣服如此，大学买东西亦是如此。写出来，好多了<br>我只是心里不平衡罢了。不过也存在另一种解决方案，不是吗？那就是，自己赚钱，<br>就好了，如果想谈恋爱，想结婚，自己攒钱去结就好了，如果没有，那就去攒，如果<br>没有，那就想办法去攒，这样，我既不用再跟母亲做什么联结，也可以自由的去做<br>我想做的事情了，这样不是很好吗？这样的话，我的情绪也就舒服起来了，我完全，可以<br>自己去赚钱，然后实现我的想法。如果现在没有钱，那就先不谈恋爱，不结婚，先赚钱呗。<br>还有什么难受的情绪吗？或许还有，就是情绪不被理解吧，好像说什么，母亲都无法改变<br>也不肯接受我的情绪一样，我就算生气，就算难受，也不管，我觉得我的情感就是被忽视了。<br>所以我现在写出来，我会觉得好受很多，就是被忽视了，不是吗？既然这样，我自己重视<br>我自己的感情，希望也能找到一个伴侣，也能重视我的感情吧。反正她做不到，那也算了。<br>她不重要了。我讨厌所谓的孝的要求，要讨厌爱的绑架。她那不叫爱，不过是自私的控制欲罢了。<br>她的控制，总是附有代价的，所以用她的钱，让人难受，让人不快，让人不自由。我想要<br>自由，我就是一个活的个体，我想过的舒服，想要情绪变好，因而我首先就要斩断，这个。<br>我跟她说，我宁愿不谈恋爱，不结婚，也不用你的钱，如果我要谈恋爱，结婚，我自己去挣。<br>这样，我赚钱快乐，我花钱快乐，我谈恋爱快乐，我结婚，也是快乐，我的情绪，我的人生<br>我自己掌控着，我就会觉得很舒服，这样，非常好。<br>有时候，也会感到焦虑，啊，会不会年纪大了，会不会没有女生喜欢我呢？是吧，如果赚到钱<br>才配得上喜欢的话，如果身材好才配得上喜欢的话，如果颜值高才配得上喜欢的话，这是真的吗？<br>我想在一定程度上，这些物质上的东西，确实能让我得到甜头，所以才有那么多人要求父母的援助<br>而且也能够过得很舒服，但我的情况，我不能要，得自己争取。年纪大了，那也是无法避免的事情，<br>有一种叫做可惜的情绪，在写这里的时候产生着，还觉得心脏有点痛，下一秒，可能得用点其他的<br>想法安慰一下自己，不过，比起这些，我倒是觉得情绪比较重要就是了，如果没有女生喜欢我的话，<br>不知道，我也不知道该怎么办法，这个情绪叫做束手无措。真的会这么糟糕吗？不太相信，我有那么<br>差么？如果不完美的话，总有变得更好的办法，不是么？而且我拥有着时间，这是最宝贵的东西<br>只要这条命还在，就还可以争取，还可以尝试理解自己的情绪，想办法让自己开心起来。<br>这种情绪，叫做希望。如果希望还在，倒活得没那么难受呢。我也想跟TW一样，重视自己的情绪，<br>活出自己的精彩来，这种情感，叫做憧憬。如果TW做女友的话，也不是不能考虑，笑。<br>这种情绪，理顺了吧，确实理顺了。<br>哦，还有一种，就是在写代码的时候，会很纠结，这种情感，为什么？因为想完美吧，那就是<br>希冀，不过总不可能一开始接触新事物，就能做得十全十美不是么？我想，只要做个六七成，然后<br>再慢慢进步到九十成，也是能够接受的不是么？所以，继续做下去，此时，就能够感到一种情绪，它叫做<br>释怀，同时也还有一种情绪，叫做希望，希望自己能够做好，向着那个愿景进发。<br>那个愿景，这种感情，叫做，期望，期望朋友们，社会上的大家，能够玩我的游戏，并且获得快乐。<br>这种感情，先称其为初心，我在TW的身上看到过，看到整个会场的大家，都高喊着。我要得到那个！<br>这种感情，叫做占有欲，也叫做奋进。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/15/%E6%AD%A3%E7%BB%8F%E4%BA%BA%E8%B0%81%E5%86%99%E6%97%A5%E8%AE%B0/" data-id="clt3r2y1d0004m4ucgwdj9iz7" data-title="正经人谁写日记" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-开发日志" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/10/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" class="article-date">
  <time class="dt-published" datetime="2024-01-10T14:22:25.000Z" itemprop="datePublished">2024-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/10/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/">开发日志</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="2024-01-10"><a href="#2024-01-10" class="headerlink" title="2024-01-10"></a>2024-01-10</h3><p>今天的话，把整个代码优化了一下，因而会比原计划推迟一天完成，所以顺延一天，希望周五能做完吧。<br>今天优化的内容，主要是第一次写ECS，一开始没有用组合的思想去写，不断使用接口和继承，写到一半越写越乱<br>在看了下别人的ECS经验，以及问了下GPT，再结合对自己前面写的东西的思考，大致得到一个方向。<br>首先，什么是Component？分成一个就是数据，另一个就是不怎么变动的函数，然后经常变动的业务逻辑代码，再写到<br>System中，其次就是我发现可以写一个标签组件，然后每个Entity都要在初始化的时候，初始化三个标签<br>分别是主标签Tag,子标签SubTag,显示标签ShowTag,这三个标签有什么作用呢？<br>比方说，我现在要做一个材料箱子SetOutBoard,那么，它的主标签，子标签和显示标签分别为<br>Tag:Board<br>SubTag:SetOutBoard<br>ShowTag:NormalSetOutBoard<br>可以看到三个标签，分别代表三个层级<br>Tag，代表的是这个Component，它最大的抽象层级是Board，这一层，在需要查找，分组的时候，很有用。<br>比如，我要数现在场景里，有多少Board，那么有Board标签的，都会被纳入查找之中，所以这个Tag，一般用于查找和分类用的<br>SubTag，则更具体了，说明他是一个材料箱子，那么，其实就是具体化了，此时它肯定拥有与其他同为Tag:Board不同参数的值或者<br>不同的逻辑函数，所以SubTag就是用来区分逻辑的，SubTag代表的就是Board中的一个子类，其拥有独特的参数的值或者逻辑函数。<br>我们也可以理解为逻辑层。<br>ShowTag，这个就是渲染用的，因为就算是SetOutBoard，显示上也会有不同的SetOutBoard，比如黄色的SetOutBoard,又或者在其他<br>图层方面有着不同显示逻辑的，他们都是SetOutBoard，在逻辑层的处理是一致，但是显示层上，则不同，因而ShowTag就是更进一步细分。<br>三层的话，我觉得就够用了。<br>分别用于分类查找，逻辑层，渲染层。<br>然后就是逻辑层和渲染层的分离，我的做法是，首先逻辑层会改变Component上的数值，然后同时会发一个更新事件，<br>然后这个事件的参数就是这个Component，然后通过Component获取GameObject，再对它上面的属性或者脚本赋予新的数值，这样就进行了<br>渲染层的更新。<br>由于是发送事件，逻辑层和渲染层是分离的，有可能这个逻辑Component根本沒有实体在场景里，那边收到事件后，会自己做判断，<br>这样我们只要专心写好逻辑层，并在会修改数值的函数结束后发送一下更新的事件就可以了。<br>现在的进度就是昨天的都做完了。<br>明天的话，就要做客人，上菜，桌子，时间，还有金钱，能够完成一局完整的游戏先。</p>
<h3 id="2024-01-14"><a href="#2024-01-14" class="headerlink" title="2024-01-14"></a>2024-01-14</h3><p>看了整洁之道，做一些改进<br>1.参数不传null，所有返回值尽量保证有值，不传递null<br>2.命名需要一眼看明白是什么<br>3.函数处理要在同一抽象层级上，下一层级就继续分出函数来<br>4.深呼吸，你不需要一次就做好，一边写一边修改就好<br>5.尝试写了生产代码后，编写相应的测试代码,最好就是不断弄自动化代码进行测试，省下大量时间</p>
<p>不传null的话，我就打算在生成Gameobject的时候，先生成一个空的，同步的，这样就不会有异步问题，然后就可以对它做移动的操作了。</p>
<h3 id="2024-01-17"><a href="#2024-01-17" class="headerlink" title="2024-01-17"></a>2024-01-17</h3><p>重新设计一下标签系统，现在的标签系统有什么问题呢？<br>第一，太复杂，分成三个层级，虽然考虑很仔细，但是其实显示层级，暂且是不需要的，真的用弄，也可以后面再加也不迟，反正不会影响逻辑。<br>第二，必须理清楚一件事情，那就是实体不能进行变换，不然就得对便签进行改变，可以这么说，一个实体被创建出来，它的标签就不能改变了，如果它变成另一个东西，那就是新创建一个实体出来，而绝不应该对它进行改变，否则处理起来就会非常的麻烦，在这点的<br>基础上，才能用标签。<br>第三，便签的最大作用，就是在获取到某个实体后，我要定位到它是什么，然后作条件判断的时候使用，从这点上来说，它的便利之处也在于此。</p>
<h3 id="2024-02-05"><a href="#2024-02-05" class="headerlink" title="2024-02-05"></a>2024-02-05</h3><p>现在是下午四点，到六点，我的目标是实现玩家的移动，还有取材料，取盘子。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/10/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" data-id="clt3r2y1c0003m4uceyt083sa" data-title="开发日志" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-leetcode466统计重复个数" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/02/leetcode466%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E4%B8%AA%E6%95%B0/" class="article-date">
  <time class="dt-published" datetime="2024-01-02T13:57:40.000Z" itemprop="datePublished">2024-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/02/leetcode466%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E4%B8%AA%E6%95%B0/">leetcode466统计重复个数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>先问s1和s2的关系，要么s2是s1的子串，要么就不是<br>如果s2是s1的子串,</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/02/leetcode466%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E4%B8%AA%E6%95%B0/" data-id="clt3r2y1b0001m4uc7k0gbizt" data-title="leetcode466统计重复个数" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-帧同步相关的学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/02/%E5%B8%A7%E5%90%8C%E6%AD%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2024-01-02T12:59:16.000Z" itemprop="datePublished">2024-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/02/%E5%B8%A7%E5%90%8C%E6%AD%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AD%A6%E4%B9%A0/">帧同步相关的学习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="2024-01-02"><a href="#2024-01-02" class="headerlink" title="2024-01-02"></a>2024-01-02</h3><ol>
<li>定点数是啥？</li>
<li>帧同步的流程是啥</li>
<li>帧同步的物理引擎方面的东西要怎么实现？</li>
</ol>
<h3 id="2024-01-08"><a href="#2024-01-08" class="headerlink" title="2024-01-08"></a>2024-01-08</h3><ol>
<li>帧同步遇到了一个问题，就是之前我是用队列去存指令的，然后取每帧第一个指令，这样做，肯定是有问题的，会导致服务器收发的指令不完全<br>玩家的有些指令就会丢失掉<br>那么我的解决方案就是用List存起按下和抬起这两种，这样传的包体就小，同时，客户端如果没有新指令，那就不上发，服务器这边则如果没收到新指令，就发默认空指令，然后客户端根据当前的状态，处理空指令就好，刚试了下，没啥问题，那么就算解决了，<br>看看明天还有什么要做的，</li>
</ol>
<p>今天完成了材料箱子的拿，食物的拿和丢，还有把配置导进去了。<br>那么明天就要完成切菜，烧菜，空装置放置，拿盘子，盘子放取东西，还有互斥的问题，明天加油吧！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/02/%E5%B8%A7%E5%90%8C%E6%AD%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AD%A6%E4%B9%A0/" data-id="clt3r2y1c0002m4uc162m0y6x" data-title="帧同步相关的学习" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-p1228" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/01/p1228/" class="article-date">
  <time class="dt-published" datetime="2024-01-01T01:52:33.000Z" itemprop="datePublished">2024-01-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/01/p1228/">p1228</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>想了不算久，我的思路是这样的<br>1.先从中心点开始递归至四周，中心点填入方块的根据，是以空缺的点位于中心点的四个方位<br>的哪一个地方来判断的，那么四个方位就对应了四个方块。填入后，就可以通过递归，就可以<br>得到四位方位中位上的四个中心点，接着继续进行递归。递归的条件，仍然是看四个方位上是否<br>有空缺点位，但是，这里有一个要注意的是，递归需要传入上一次递归空缺的点位，这样下一次<br>递归才能够进行判断。<br>然后写代码就可以了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/01/p1228/" data-id="clqusunuq0000iguc9bo7auma" data-title="p1228" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-开发流程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/30/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2023-12-30T13:28:40.000Z" itemprop="datePublished">2023-12-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/30/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/">开发流程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="开发功能进度"><a href="#开发功能进度" class="headerlink" title="开发功能进度"></a>开发功能进度</h3><p>1.创建房间 ok<br>2.获取房间列表 ok<br>3.加入房间 ok<br>4.开始游戏 ok<br>5.人物移动测试 ok<br>6.人物与工具箱的交互<br>    1.砧板 ok<br>    2.烧炉 ok<br>    3.拿材料 ok<br>    4.盘子 ok<br>    5.洗盘子<br>    6.空桌子 ok<br>    7.垃圾桶 ok<br>7.人物与顾客的交互 ok<br>8.人物与桌子的交互 ok<br>9.人物技能<br>10.时间和金钱的变化，以及结束游戏对局和显示结算界面<br>11.传送 ok<br>12.进食<br>13.拿脏盘子</p>
<h3 id="2023-12-30"><a href="#2023-12-30" class="headerlink" title="2023-12-30"></a>2023-12-30</h3><p>现在开发一个功能的步骤</p>
<ol>
<li><p>写好协议 1 普通消息 2PRC消息 3路由消息 4地址消息 写好之后 要进行导出</p>
</li>
<li><p>写好服务端的逻辑，Handle和其他模块的调用</p>
</li>
<li><p>客户端的调用逻辑，网络</p>
</li>
<li><p>客户端的UI</p>
</li>
</ol>
<p>例子<br>比如我现在要开发 刷新大厅房间列表的功能</p>
<ol>
<li>协议 这个是C2G的RPC，然后还有一个路由方法，接着最后返回RoomInfo给客户端，按照这个思路，要定义四个协议,写两个handle</li>
</ol>
<p>2.消息模板</p>
<p>内部路由<br> var res &#x3D; (GR2G_CreateGameRoomRouteResponse)await MessageHelper.CallInnerRoute(session.Scene, gateSceneConfig.EntityId, new GR2G_CreateGameRoomRouteResponse()<br> {</p>
<p> });<br> Log.Debug(res.ErrorCode + “ “ + res.Message);</p>
<ol start="3">
<li>关于广播协议怎么写<br>首先，要定好协议，一般是地址协议，S2C<br>接着服务器，在要发送的地方，创建协议对象，然后进行发送<br>这里Fantasy已经提供了MessageHelper.SendInnerRoute这个函数，把scene, Entity的运行时id，以及广播消息传进去即可。</li>
</ol>
<h3 id="2024-1-1"><a href="#2024-1-1" class="headerlink" title="2024-1-1"></a>2024-1-1</h3><ol>
<li>添加新Scene和Server的步骤<br>首先在ServerExcel表创建新的Server<br>然后在SceneExcel表创建新的Scene,并且ServerId一项中填上刚才新添加的ServerId<br>有需要要自己添加新的SceneType<br>然后在OnCreateScene.cs文件中，添加相应的初始化组件</li>
</ol>
<h3 id="2024-1-12"><a href="#2024-1-12" class="headerlink" title="2024-1-12"></a>2024-1-12</h3><p>1.烧炉烧菜的逻辑放到哪里去？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/30/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/" data-id="clqs5007y0003xsuc0alwc8bx" data-title="开发流程" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C-基本知识待整理箱" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/29/C-%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E5%BE%85%E6%95%B4%E7%90%86%E7%AE%B1/" class="article-date">
  <time class="dt-published" datetime="2023-12-29T01:07:06.000Z" itemprop="datePublished">2023-12-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/29/C-%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E5%BE%85%E6%95%B4%E7%90%86%E7%AE%B1/">C# 基本知识待整理箱</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="2023-12-29"><a href="#2023-12-29" class="headerlink" title="2023-12-29"></a>2023-12-29</h3><p>1.readonly是一个修饰字段的关键字。 被它修饰的字段只有在初始化或者构造函数中才能够赋值</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> EntityReference&lt;T&gt; <span class="keyword">where</span> T : Entity</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T _entity;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">long</span> _runTimeId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 Entity 实例创建 EntityReference 的私有构造函数。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">EntityReference</span>(<span class="params">T t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            _entity = <span class="literal">null</span>;</span><br><span class="line">            _runTimeId = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        _entity = t;</span><br><span class="line">        _runTimeId = t.RuntimeId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里一开始困惑，为啥可以在方法里面赋值，哦，原来readonly不但初始化时可以赋值，在构造函数的时候也能赋值<br>但是为什么呢？我想可以反编译看看执行顺序研究的。</p>
<ol start="2">
<li></li>
</ol>
<p>NetScender.cs</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> EntityReference&lt;T&gt; <span class="keyword">where</span> T : Entity</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T _entity;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">long</span> _runTimeId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 Entity 实例创建 EntityReference 的私有构造函数。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">EntityReference</span>(<span class="params">T t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            _entity = <span class="literal">null</span>;</span><br><span class="line">            _runTimeId = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        _entity = t;</span><br><span class="line">        _runTimeId = t.RuntimeId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Session Realm</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    &#123;</span><br><span class="line">        Session session = realmRef;</span><br><span class="line">        <span class="keyword">if</span> (session == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            RealmScene.CreateSession(RealmAdress, NetworkProtocolType.KCP,</span><br><span class="line">                OnRealmConnected, OnRealmConnectFail, <span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">return</span> realmRef = RealmScene.Session;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> session;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Scene.cs</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateSession</span>(<span class="params"><span class="built_in">string</span> remoteAddress, NetworkProtocolType networkProtocolType, Action onConnectComplete, Action onConnectFail, Action onConnectDisconnect, <span class="built_in">int</span> connectTimeout = <span class="number">5000</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> address = NetworkHelper.ToIPEndPoint(remoteAddress);</span><br><span class="line">    <span class="keyword">var</span> clientNetworkComponent = GetComponent&lt;ClientNetworkComponent&gt;() ?? AddComponent&lt;ClientNetworkComponent&gt;();</span><br><span class="line">    clientNetworkComponent.Initialize(networkProtocolType, NetworkTarget.Outer);</span><br><span class="line">    clientNetworkComponent.Connect(address, onConnectComplete, onConnectFail, onConnectDisconnect, connectTimeout);</span><br><span class="line">    Session = clientNetworkComponent.Session;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后可以看到在执行CreateSession之后，Scene的Session成员变量就会被赋值，因而此时就可以将EntityReference数据结构填进去，然后这里<br>用了EntityReference的一个数据结构去存，然后EntityReference是用了自定义的隐式转换修饰的一个结构体，相关文件如下。</p>
<p>EntityReference.cs</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 实体引用只读结构，用作对 Entity 实例的引用。</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;typeparam name=&quot;T&quot;&gt;</span>Entity 的类型。<span class="doctag">&lt;/typeparam&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> EntityReference&lt;T&gt; <span class="keyword">where</span> T : Entity</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T _entity;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="built_in">long</span> _runTimeId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 Entity 实例创建 EntityReference 的私有构造函数。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">EntityReference</span>(<span class="params">T t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            _entity = <span class="literal">null</span>;</span><br><span class="line">            _runTimeId = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        _entity = t;</span><br><span class="line">        _runTimeId = t.RuntimeId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 隐式地将 Entity 实例转换为 EntityReference。</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;t&quot;&gt;</span>要转换的 Entity 实例。<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>引用同一 Entity 的 EntityReference 实例。<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">EntityReference</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> EntityReference&lt;T&gt;(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 隐式地将 EntityReference 转换回原始的 Entity 类型。</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;v&quot;&gt;</span>要转换的 EntityReference。<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 如果运行时 ID 匹配，则返回原始的 Entity 实例，如果不匹配则返回 null，</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 或者如果引用为 null，则返回 null。</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">T</span>(<span class="params">EntityReference&lt;T&gt; v</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (v._entity == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (v._entity.RuntimeId != v._runTimeId)</span><br><span class="line">        &#123;</span><br><span class="line">            v._entity = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> v._entity;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">struct</span> <span class="title">EntityReference</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> T : Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">EntityReference</span>&lt;<span class="title">T</span>&gt;(<span class="params">T t</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">T</span>(<span class="params">EntityReference&lt;T&gt; v</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.ServerConfig<br>路由Id是用AppId和World生成的<br>那么，怎么生成？<br>首先我有数据库，那就是WorldId代表一个数据库，一个区<br>然后一个数据库，我可以有多个服，这些服共用一个数据库，那这就是AppId<br>然后计算，得到路由ID<br>路由ID 计算公式  取AppId作为前16位 取WorldId作为后16位</p>
<p>MachineConfig是地址库 就是服务器的地址<br>为什么会有外网IP,外网绑定IP，内网绑定IP<br>外网IP就是物理机,然后他还有一个网卡，网卡也有地址<br>早期的物理机公网IP和网卡设置的是一样的</p>
<p>云服务器导致了不同 云服务器有一个公网IP，但里面的云服务器有自己的外网绑定IP与公网IP不同<br>这是由于云服务器是虚拟服务器集群</p>
<p>内网绑定IP是，同一个公网IP下，直接用内网IP进行消息转发</p>
<p>用IdFatory生成Id的时候，要传入一个LocationId,这个LocationId就是ServerConfig.xlsx里的路由Id<br>这样生成的Entity，我们就可以得到他的Time，服务器的Appid以及worldId，而且这样生成的Id是唯一的<br>因而在合区的时候，只需要两个区的数据库合并即可，因而这个EntityId用于保存和通信</p>
<p>同一时间创建，有可能重复，每毫秒最多65535个，生成量比较大，不建议生成EntityId</p>
<p>不需要保存在数据库的，又可能会大量产生的，我们用一个运行时Id,保证在这次运行中是唯一的<br>IdFactory.NextRunTimeId()</p>
<p>又看了下课，这，ZoneId其实就是WorldId,感觉改成不同名字，理解起来有点吃力。</p>
<p>4.看了Address这一课，我猜测，首先挂组件进行注册的时候，会把实体的唯一Id注册到组件里，接着，我看它是把实体的RuntimeId设置为<br>协议返回的AddressId,那么，这里，唯一Id是不会变化和重复的，因而再发送消息，直接是从组件里找这个唯一Id，就可以映射出RuntimeId，<br>从而发送消息，就是这样而已。</p>
<p>6.常用的CV代码片段</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/29/C-%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E5%BE%85%E6%95%B4%E7%90%86%E7%AE%B1/" data-id="clqs5007v0001xsuc18gl3r20" data-title="C# 基本知识待整理箱" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-关于sender的思考" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/29/%E5%85%B3%E4%BA%8Esender%E7%9A%84%E6%80%9D%E8%80%83/" class="article-date">
  <time class="dt-published" datetime="2023-12-28T17:23:46.000Z" itemprop="datePublished">2023-12-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/29/%E5%85%B3%E4%BA%8Esender%E7%9A%84%E6%80%9D%E8%80%83/">关于sender的思考</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="关于sender-cs"><a href="#关于sender-cs" class="headerlink" title="关于sender.cs"></a>关于sender.cs</h2><p>首先，有两个疑问，第一 EntityReference 是什么？怎么用的</p>
<p>第二 闭包问题还是要继续研究，直到弄懂</p>
<p>再来分析下面的代码</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> EntityReference&lt;Session&gt; realmRef;</span><br><span class="line"><span class="keyword">public</span> Session Realm</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    &#123;</span><br><span class="line">        Session session = realmRef;</span><br><span class="line">        <span class="keyword">if</span> (session == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            RealmScene.CreateSession(RealmAdress, NetworkProtocolType.KCP,</span><br><span class="line">                OnRealmConnected, OnRealmConnectFail, <span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">return</span> realmRef = RealmScene.Session;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> session;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我觉得从中，我要学会的是<br>1.如果某一个对象，它可能在运行过程中被设置为空，而且我在后续，有可能获取它使用，那么我完全可以在Get它的时候<br>判空，然后对它进行赋值，从而让我在使用它的过程中，完全不用考虑它是否会空,并且用Get方法，能很好地完成这个过程，<br>还有一个很重要的事情，就是用 EntityReference 类型的一个变量 realmRef 去存它，这个我还没弄懂，明天可以看看<br>EntityReference 相关的东西。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/29/%E5%85%B3%E4%BA%8Esender%E7%9A%84%E6%80%9D%E8%80%83/" data-id="clqs5007z0004xsuce59o16rl" data-title="关于sender的思考" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/01/18/leetcode%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0/">leetcode刷题日记</a>
          </li>
        
          <li>
            <a href="/2024/01/15/%E6%AD%A3%E7%BB%8F%E4%BA%BA%E8%B0%81%E5%86%99%E6%97%A5%E8%AE%B0/">正经人谁写日记</a>
          </li>
        
          <li>
            <a href="/2024/01/10/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/">开发日志</a>
          </li>
        
          <li>
            <a href="/2024/01/02/leetcode466%E7%BB%9F%E8%AE%A1%E9%87%8D%E5%A4%8D%E4%B8%AA%E6%95%B0/">leetcode466统计重复个数</a>
          </li>
        
          <li>
            <a href="/2024/01/02/%E5%B8%A7%E5%90%8C%E6%AD%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E5%AD%A6%E4%B9%A0/">帧同步相关的学习</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>